<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Pumalog by moolder</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Pumalog</h1>
        <p class="header">The Pumalog is a photolog - here you can easily share your favorite pictures with your family and friends - on your own webserver.</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/moolder/pumalog/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/moolder/pumalog/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/moolder/pumalog">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/moolder">moolder</a></p>


      </header>
      <section>
        <h3>About pumalog:</h3>

<p>Pumalog is a photolog - here you can easily share your favorite photos with your family and friends - on your own webserver.</p>

<h3>Features</h3>

<ul>
<li>saves the uploaded pictures without quality loss. </li>
<li>orders pictures into entries with a headline and optional text</li>
<li>uses exif rotation info to rotate pictures - or you can manually rotate</li>
<li>one click picture enhancement using filters</li>
<li>mail gateway using qmail mail files</li>
</ul><h3>Screenshots</h3>

<p><img src="http://dirtyhack.de/pumalog/screenshots/screenshot_01.jpg" alt="Screenshot 1"><img src="http://dirtyhack.de/pumalog/screenshots/screenshot_02.jpg" alt="Screenshot 2"><img src="http://dirtyhack.de/pumalog/screenshots/screenshot_03.jpg" alt="Screenshot 3"><img src="http://dirtyhack.de/pumalog/screenshots/screenshot_04.jpg" alt="Screenshot 4"></p>

<h3>License:</h3>

<p><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported</a></p>

<h3>Technicalities</h3>

<p>Written using PHP5. 
Optimised for apache on Linux. 
Tested using apachefriends xampp on windows. </p>

<h3>Installation instructions:</h3>

<p>(the perl script install.pl does this up to a point - see below - for you on linux systems)
put the pumalog files in a folder inside the serverroot (i.e. "/var/www/pumalog/") and make them owned by webserver user (www-data):
inside this folder, create the following data files and make them read-writable for and owned by webserver user (www-data):
login/data/rndfile.txt 
content/ignorelist.txt</p>

<p>inside this folder, create the following data folders and make them read-write-executable for and owned by webserver user (www-data):
incoming/
deleted/ 
content/ 
upload/ 
imgtemp/</p>

<p>(install.pl ends here)</p>

<p>configure the users and passwordfile in login/.htaccess
copy the login/.htaccess file to all data folders you created above
create the passwordfile and the users in it by using htpasswd
configure the users and their permissions in function_permissions as follows:</p>

<p>each user has one line inside 
function getallusers(){
which looks like this:
    $users[] = "";</p>

<p>the right to edit is given by a line
$userinfo["canedit"][""] = true;
otherwise, a user can only view the contents of the pumalog</p>

<p>the right to see all entries is given by a line
$userinfo["cansee"][""] = true;</p>

<p>otherwise, a user can see entries</p>

<ul>
<li>that have no special visibility flags</li>
<li>that he may see according to the visibility flags</li>
</ul><p>If you want to use the mailparser:
Create a mail inbox - I.e. a Linux user - that will accept all your photo uploads and has no other purpose. 
inside config.php, set $mailpath to the path where the mail files can be found. 
move the contents of the script/ folder to /root/script
Edit the shell files, filling in your local paths.
Add both shell files to your crontab.  </p>

<h3>Nice to know:</h3>

<p>Pumalog supports jpg images of any size. Other image formats are not supported. The original images are stored in the content/ folder as they were uploaded. They are scaled, rotated, filtered and recompressed at display time.</p>

<p>Deleted content is not really deleted but moved to dhe deleted/ folder. If you accidentally deleted an entry, you can just manually move it back from the deleted/ folder into the content/ folder to restore it. To permanently delete content you have to manually delete it inside the deleted/ folder.</p>

<p>pumalog supports flv video for PC display and mp4 video for iphone display. Just create an entry and then move the video into the content/ folder, using the same naming schema as with images, but with the flv/mp4 filename extension.</p>

<p>you can change the header image on a per-month-basis: inside the headerimages/ folder, create a header_yyyy_mm.png file, where yyyy is the year and mm is the month (01-12). The image will be shown on the page for that month. </p>

<h3>Known bugs</h3>

<p>changing a timestamp to "01" in any field results in errors. Workaround: remove the leading zero and recommit.</p>

<h3>Change requests</h3>

<ul>
<li>enable view only mode without password - needs explicit logon and logoff</li>
<li>function_permissions.php - load permissions from file</li>
<li>login/ and function_permissions.php - change the way login works so it is not depending on apache auth. build an admin mask for creating and removing users, handling permissions, setting initial passwords. create a password update mask for users.</li>
<li>function_permissions.php aktuell nur whitelist, auch blacklist erm√∂glichen</li>
</ul><h3>Attribution</h3>

<ul>
<li>icons: Iconset ist SweetiePlus by Sublink Interactive: <a href="http://sublink.ca/icons/sweetieplus">http://sublink.ca/icons/sweetieplus</a>
</li>
<li>Header image by katsrcool on flickr: <a href="http://www.flickr.com/photos/katsrcool/8318578664/sizes/o/in/photostream/">http://www.flickr.com/photos/katsrcool/8318578664/sizes/o/in/photostream/</a>
</li>
<li>flv-player: <a href="http://flv-player.net/players/maxi/documentation/">http://flv-player.net/players/maxi/documentation/</a>
</li>
</ul>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>